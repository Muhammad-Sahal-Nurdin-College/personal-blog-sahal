{% extends 'base.html' %}
{% block content %}

<title>Hubungi Saya</title>
<header class="masthead" style="background-image: url({{url_for('static', filename='assets/img/contact-bg.jpg')}})">
    <div class="container position-relative px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <div class="page-heading">
                    <h1>Hubungi Saya</h1>
                    <span class="subheading">Punya pertanyaan? Saya siap membantu.</span>
                </div>
            </div>
        </div>
    </div>
</header>

<main class="mb-4">
    <div class="container px-4 px-lg-5">
        <div class="row gx-4 gx-lg-5 justify-content-center">
            <div class="col-md-10 col-lg-8 col-xl-7">
                <p>Ingin terhubung? Isi formulir di bawah, dan saya akan segera menghubungi Anda kembali.</p>
                <div class="my-5">

                    <form id="contactForm">
                        <div class="form-floating">
                            <input class="form-control" id="name" type="text" placeholder="Masukkan nama..." required />
                            <label for="name">Nama</label>
                        </div>
                        <div class="form-floating">
                            <input class="form-control" id="email" type="email" placeholder="Masukkan email..."
                                required />
                            <label for="email">Alamat Email</label>
                        </div>
                        <div class="form-floating">
                            <input class="form-control" id="phone" type="tel" placeholder="Masukkan nomor telepon..." />
                            <label for="phone">Nomor Telepon (Opsional)</label>
                        </div>
                        <div class="form-floating">
                            <textarea class="form-control" id="message" placeholder="Masukkan pesan..."
                                style="height: 12rem" required></textarea>
                            <label for="message">Pesan</label>
                        </div>
                        <br />

                        <button class="btn btn-primary text-uppercase" id="submitButton" type="submit">Kirim</button>
                    </form>

                </div>
            </div>
        </div>
    </div>
</main>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const contactForm = document.getElementById('contactForm');

        contactForm.addEventListener('submit', function (event) {
            // 1. Mencegah form mengirim data secara normal
            event.preventDefault();

            // 2. ⚠️ GANTI DENGAN ALAMAT EMAIL ANDA ⚠️
            const recipientEmail = 'sahalnurdin@gmail.com';

            // 3. Mengambil data dari setiap input
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const message = document.getElementById('message').value;

            // 4. Membuat subjek dan isi email
            const subject = `Pesan dari ${name} via Website`;
            const body = `
Pesan baru dari formulir kontak:

Nama: ${name}
Email: ${email}
Telepon: ${phone}

--- Pesan ---
${message}
            `;

            // 5. Membuat dan membuka link mailto
            const mailtoLink = `mailto:${recipientEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

            window.location.href = mailtoLink;
        });
    });
</script>

{% endblock %}